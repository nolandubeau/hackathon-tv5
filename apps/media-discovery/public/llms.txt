version: 0.1
profile: ARW-1

site:
  name: 'AI Media Discovery - Agentics Hackathon'
  description: 'Discover movies and TV shows through natural language prompts and personalized recommendations'
  homepage: 'https://media-discovery.agentics.org'
  contact: 'hackathon@agentics.org'

# Main content areas
content:
  # Homepage with trending and personalized content
  - url: /
    machine_view: /index.llm.md
    purpose: browse
    priority: high
    chunks:
      - id: overview
        heading: 'Overview'
        description: 'Page introduction and purpose'
      - id: search
        heading: 'Search'
        description: 'Natural language search functionality'
      - id: trending
        heading: 'Trending'
        description: 'Currently popular content'
      - id: recommendations
        heading: 'Recommendations'
        description: 'Personalized content suggestions'
      - id: actions
        heading: 'Actions'
        description: 'Available API actions'

  # Natural language search for movies and TV shows
  - url: /search
    machine_view: /search.llm.md
    purpose: search
    priority: high
    chunks:
      - id: overview
        heading: 'Overview'
        description: 'Search page introduction'
      - id: capabilities
        heading: 'Capabilities'
        description: 'Semantic search features'
      - id: api
        heading: 'API'
        description: 'Search API documentation'
      - id: filters
        heading: 'Filters'
        description: 'Available search filters'
      - id: examples
        heading: 'Examples'
        description: 'Example search queries'
      - id: actions
        heading: 'Actions'
        description: 'Available actions'

  # Browse content by genre, year, and rating
  - url: /discover
    machine_view: /discover.llm.md
    purpose: browse
    priority: medium
    chunks:
      - id: overview
        heading: 'Overview'
        description: 'Discover page introduction'
      - id: categories
        heading: 'Categories'
        description: 'Browse categories'
      - id: genres
        heading: 'Genres'
        description: 'Movie and TV genres'
      - id: api
        heading: 'API'
        description: 'Discover API documentation'
      - id: filters
        heading: 'Filters'
        description: 'Available filters'
      - id: actions
        heading: 'Actions'
        description: 'Available actions'

  # Movie details page (dynamic - generated via API)
  - url: /movie/[id]
    machine_view: /movie/[id].llm.md
    purpose: details
    priority: medium

  # TV show details page (dynamic - generated via API)
  - url: /tv/[id]
    machine_view: /tv/[id].llm.md
    purpose: details
    priority: medium

# Available actions for AI agents
actions:
  - id: semantic_search
    name: 'Semantic Search'
    endpoint: /api/search
    method: POST
    auth: none
    description: 'Search for movies and TV shows using natural language'

  - id: get_recommendations
    name: 'Get Recommendations'
    endpoint: /api/recommendations
    method: POST
    auth: none
    description: 'Get personalized content recommendations based on preferences'

  - id: discover_content
    name: 'Discover Content'
    endpoint: /api/discover
    method: GET
    auth: none
    description: 'Browse trending and popular content'

  - id: get_movie
    name: 'Get Movie Details'
    endpoint: /api/movies/[id]
    method: GET
    auth: none
    description: 'Get full details for a specific movie'

  - id: get_movie_llm
    name: 'Get Movie Machine View'
    endpoint: /movie/[id].llm.md
    method: GET
    auth: none
    description: 'Get machine-readable view for a movie (dynamic)'

  - id: get_tv
    name: 'Get TV Show Details'
    endpoint: /api/tv/[id]
    method: GET
    auth: none
    description: 'Get full details for a specific TV show'

  - id: get_tv_llm
    name: 'Get TV Show Machine View'
    endpoint: /tv/[id].llm.md
    method: GET
    auth: none
    description: 'Get machine-readable view for a TV show (dynamic)'

# Protocols supported
protocols:
  - name: 'Media Discovery REST API'
    type: rest
    endpoint: /api

  - name: 'Media Gateway MCP Server'
    type: mcp
    version: '2024-11-05'
    transports:
      - type: stdio
        command: 'npx agentics-hackathon mcp'
      - type: sse
        endpoint: 'https://mcp.media-discovery.agentics.org/sse'
    description: 'Model Context Protocol server for AI agent integration'
    tools:
      - id: semantic_search
        name: 'Semantic Search'
        description: 'Search for movies and TV shows using natural language queries'
        auth: none
        parameters:
          - name: query
            type: string
            required: true
            description: 'Natural language search query'
          - name: filters
            type: object
            required: false
            description: 'Filter by mediaType, ratingMin, releaseYear, genres'
          - name: limit
            type: number
            required: false
            description: 'Max results (1-50, default 10)'
          - name: explain
            type: boolean
            required: false
            description: 'Include AI explanations'

      - id: get_recommendations
        name: 'Get Recommendations'
        description: 'Get personalized content recommendations based on preferences or similar content'
        auth: none
        parameters:
          - name: basedOn
            type: object
            required: false
            description: 'Get recommendations similar to specific content (contentId, mediaType)'
          - name: preferences
            type: object
            required: false
            description: 'User preferences (genres, mood, excludeContentIds)'
          - name: limit
            type: number
            required: false
            description: 'Max results (1-50, default 10)'

      - id: get_content_details
        name: 'Get Content Details'
        description: 'Get detailed information about a specific movie or TV show'
        auth: none
        parameters:
          - name: contentId
            type: string
            required: true
            description: 'Content ID'
          - name: include
            type: array
            required: false
            description: 'Additional info: credits, images, availability, similar'

      - id: check_availability
        name: 'Check Availability'
        description: 'Check where specific content is available to watch'
        auth: none
        parameters:
          - name: contentId
            type: string
            required: true
            description: 'Content ID to check'
          - name: region
            type: string
            required: false
            description: 'Region code (e.g., US, UK). Default: US'
          - name: platforms
            type: array
            required: false
            description: 'Specific platforms to check'

      - id: get_genres
        name: 'Get Genres'
        description: 'Get list of available content genres'
        auth: none
        parameters:
          - name: mediaType
            type: string
            required: false
            description: 'Filter by media type: movie, tv, all'

      - id: list_devices
        name: 'List Devices'
        description: "List user's registered devices with capabilities and online status"
        auth: required
        scopes:
          - 'devices:read'
        parameters:
          - name: includeOffline
            type: boolean
            required: false
            description: 'Include offline devices'

      - id: initiate_playback
        name: 'Initiate Playback'
        description: 'Start content playback on a target device with deep link generation'
        auth: required
        scopes:
          - 'playback:control'
        parameters:
          - name: contentId
            type: string
            required: true
            description: 'Content ID to play'
          - name: deviceId
            type: string
            required: true
            description: 'Target device ID'
          - name: platformId
            type: string
            required: false
            description: 'Preferred platform'
          - name: startPosition
            type: number
            required: false
            description: 'Start position in seconds'

    resources:
      - uri: 'media://genres'
        name: 'Content Genres'
        description: 'Available movie and TV genres'
        mimeType: 'application/json'
      - uri: 'media://platforms'
        name: 'Streaming Platforms'
        description: 'Supported streaming platforms'
        mimeType: 'application/json'

    prompts:
      - name: 'discover_content'
        description: 'Help users discover movies and TV shows'
      - name: 'plan_watch_session'
        description: 'Plan a watch session based on mood and preferences'

# Usage policies
policies:
  training:
    allowed: false
    note: 'Content metadata from TMDB. Training not permitted.'

  inference:
    allowed: true
    restrictions:
      - attribution_required
      - non_commercial

  attribution:
    required: true
    format: link
    template: 'Powered by AI Media Discovery'

  rate_limits:
    authenticated: '1000 requests per minute'
    unauthenticated: '100 requests per minute'
